{"version":3,"file":"main-iBoLa7FE.js","sources":["../../src/main.js"],"sourcesContent":["/* =========================================\n   1. Lenis Smooth Scroll\n   ========================================= */\n   const lenis = new Lenis({\n    duration: 1.2,\n    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n    orientation: 'vertical',\n    gestureDirection: 'vertical',\n    smooth: true,\n    mouseMultiplier: 1,\n    smoothTouch: false,\n    touchMultiplier: 2,\n});\n\nfunction raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n\n/* =========================================\n   2. DOM Logic & UI\n   ========================================= */\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    // --- Icons ---\n    lucide.createIcons();\n\n    // --- Mobile Menu ---\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const links = document.querySelectorAll('.header__link');\n\n    if (burger && nav) {\n        burger.addEventListener('click', () => {\n            nav.classList.toggle('is-active');\n            const isActive = nav.classList.contains('is-active');\n\n            const iTag = burger.querySelector('i');\n            iTag.setAttribute('data-lucide', isActive ? 'x' : 'menu');\n            lucide.createIcons();\n\n            if (isActive) {\n                lenis.stop();\n                document.body.style.overflow = 'hidden';\n            } else {\n                lenis.start();\n                document.body.style.overflow = '';\n            }\n        });\n\n        links.forEach(link => {\n            link.addEventListener('click', () => {\n                nav.classList.remove('is-active');\n                lenis.start();\n                document.body.style.overflow = '';\n                burger.querySelector('i').setAttribute('data-lucide', 'menu');\n                lucide.createIcons();\n            });\n        });\n    }\n\n    // --- Init Animations ---\n    initHeroAnimation();\n    initMarquee();\n    initFormLogic();\n    initCookiePopup();\n    initScrollAnimations();\n});\n\n/* =========================================\n   3. Three.js Hero Animation\n   ========================================= */\nfunction initHeroAnimation() {\n    const container = document.getElementById('hero-canvas');\n    if (!container) return;\n\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.z = 120;\n    camera.position.y = 30;\n\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n    container.appendChild(renderer.domElement);\n\n    const particleCount = 2500;\n    const geometry = new THREE.BufferGeometry();\n    const positions = new Float32Array(particleCount * 3);\n    const rows = 50, cols = 50, sep = 8;\n    let i = 0;\n\n    for (let x = 0; x < rows; x++) {\n        for (let z = 0; z < cols; z++) {\n            positions[i] = (x - rows / 2) * sep;\n            positions[i + 1] = 0;\n            positions[i + 2] = (z - cols / 2) * sep;\n            i += 3;\n        }\n    }\n    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n\n    const material = new THREE.PointsMaterial({\n        color: 0x8A2BE2,\n        size: 2.0,\n        transparent: true,\n        opacity: 0.7,\n        sizeAttenuation: true,\n        blending: THREE.AdditiveBlending\n    });\n\n    const particles = new THREE.Points(geometry, material);\n    scene.add(particles);\n\n    let mouseX = 0, mouseY = 0;\n    document.addEventListener('mousemove', (e) => {\n        mouseX = (e.clientX / window.innerWidth) * 2 - 1;\n        mouseY = -(e.clientY / window.innerHeight) * 2 + 1;\n    });\n\n    let time = 0;\n    function animate() {\n        requestAnimationFrame(animate);\n        time += 0.03;\n        const pos = particles.geometry.attributes.position.array;\n        let idx = 0;\n        for (let x = 0; x < rows; x++) {\n            for (let z = 0; z < cols; z++) {\n                pos[idx + 1] = (Math.sin((x * 0.5) + time) * 5) + (Math.sin((z * 0.3) + time) * 5);\n                idx += 3;\n            }\n        }\n        particles.geometry.attributes.position.needsUpdate = true;\n        particles.rotation.y += 0.001;\n        particles.rotation.x += (mouseY * 0.1 - particles.rotation.x) * 0.05;\n        particles.rotation.z += (mouseX * 0.1 - particles.rotation.z) * 0.05;\n        renderer.render(scene, camera);\n    }\n    animate();\n\n    window.addEventListener('resize', () => {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n    });\n}\n\n/* =========================================\n   4. Marquee Animation (GSAP)\n   ========================================= */\nfunction initMarquee() {\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Simple infinite loop with CSS is easiest,\n    // but here is a GSAP tweak if needed for control\n    const marqueeContent = document.querySelector('.marquee-wrapper');\n    if(marqueeContent) {\n        gsap.to(marqueeContent, {\n            x: \"-50%\",\n            duration: 20,\n            ease: \"none\",\n            repeat: -1\n        });\n    }\n}\n\n/* =========================================\n   5. Scroll Animations (GSAP)\n   ========================================= */\nfunction initScrollAnimations() {\n    const sections = document.querySelectorAll('.section');\n    sections.forEach(sec => {\n        gsap.fromTo(sec.children,\n            { y: 50, opacity: 0 },\n            {\n                y: 0,\n                opacity: 1,\n                duration: 0.8,\n                stagger: 0.1,\n                scrollTrigger: {\n                    trigger: sec,\n                    start: \"top 80%\",\n                }\n            }\n        );\n    });\n}\n\n/* =========================================\n   6. Contact Form Logic\n   ========================================= */\nfunction initFormLogic() {\n    const form = document.getElementById('contactForm');\n    if (!form) return;\n\n    // --- Math Captcha Generation ---\n    const num1 = Math.floor(Math.random() * 10);\n    const num2 = Math.floor(Math.random() * 10);\n    const sum = num1 + num2;\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaInput = document.getElementById('captcha');\n\n    captchaLabel.textContent = `Решите пример: ${num1} + ${num2} = ?`;\n\n    // --- Input Validation ---\n    const phoneInput = document.getElementById('phone');\n    phoneInput.addEventListener('input', (e) => {\n        // Allow only digits\n        e.target.value = e.target.value.replace(/\\D/g, '');\n    });\n\n    // --- Submission ---\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const msgBlock = document.getElementById('formMessage');\n        msgBlock.textContent = '';\n        msgBlock.className = 'form-message';\n\n        // Check Captcha\n        if (parseInt(captchaInput.value) !== sum) {\n            msgBlock.textContent = 'Ошибка в математическом примере.';\n            msgBlock.classList.add('error');\n            return;\n        }\n\n        const submitBtn = form.querySelector('button[type=\"submit\"]');\n        const originalBtnText = submitBtn.textContent;\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Отправка...';\n\n        // Simulate AJAX\n        setTimeout(() => {\n            submitBtn.disabled = false;\n            submitBtn.textContent = originalBtnText;\n            msgBlock.textContent = 'Спасибо! Ваша заявка успешно отправлена.';\n            msgBlock.classList.add('success');\n            form.reset();\n\n            // Generate new captcha\n            const n1 = Math.floor(Math.random() * 10);\n            const n2 = Math.floor(Math.random() * 10);\n            captchaLabel.textContent = `Решите пример: ${n1} + ${n2} = ?`;\n        }, 1500);\n    });\n}\n\n/* =========================================\n   7. Cookie Popup\n   ========================================= */\nfunction initCookiePopup() {\n    const popup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            popup.classList.add('is-visible');\n        }, 2000);\n    }\n\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookiesAccepted', 'true');\n        popup.classList.remove('is-visible');\n    });\n}"],"names":["lenis","t","raf","time","burger","nav","links","isActive","link","initHeroAnimation","initMarquee","initFormLogic","initCookiePopup","initScrollAnimations","container","scene","camera","renderer","particleCount","geometry","positions","rows","cols","sep","i","x","z","material","particles","mouseX","mouseY","e","animate","pos","idx","marqueeContent","sec","form","num1","num2","sum","captchaLabel","captchaInput","msgBlock","submitBtn","originalBtnText","n1","n2","popup","acceptBtn"],"mappings":"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"}