(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const f=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),orientation:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2});function L(e){f.raf(e),requestAnimationFrame(L)}requestAnimationFrame(L);document.addEventListener("DOMContentLoaded",()=>{lucide.createIcons();const e=document.querySelector(".header__burger"),n=document.querySelector(".header__nav"),r=document.querySelectorAll(".header__link");e&&n&&(e.addEventListener("click",()=>{n.classList.toggle("is-active");const i=n.classList.contains("is-active");e.querySelector("i").setAttribute("data-lucide",i?"x":"menu"),lucide.createIcons(),i?(f.stop(),document.body.style.overflow="hidden"):(f.start(),document.body.style.overflow="")}),r.forEach(i=>{i.addEventListener("click",()=>{n.classList.remove("is-active"),f.start(),document.body.style.overflow="",e.querySelector("i").setAttribute("data-lucide","menu"),lucide.createIcons()})})),M(),x(),I(),T(),A()});function M(){const e=document.getElementById("hero-canvas");if(!e)return;const n=new THREE.Scene,r=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,1e3);r.position.z=120,r.position.y=30;const i=new THREE.WebGLRenderer({alpha:!0,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.appendChild(i.domElement);const t=2500,o=new THREE.BufferGeometry,a=new Float32Array(t*3),d=50,s=50,l=8;let m=0;for(let u=0;u<d;u++)for(let p=0;p<s;p++)a[m]=(u-d/2)*l,a[m+1]=0,a[m+2]=(p-s/2)*l,m+=3;o.setAttribute("position",new THREE.BufferAttribute(a,3));const g=new THREE.PointsMaterial({color:9055202,size:2,transparent:!0,opacity:.7,sizeAttenuation:!0,blending:THREE.AdditiveBlending}),c=new THREE.Points(o,g);n.add(c);let E=0,v=0;document.addEventListener("mousemove",u=>{E=u.clientX/window.innerWidth*2-1,v=-(u.clientY/window.innerHeight)*2+1});let h=0;function b(){requestAnimationFrame(b),h+=.03;const u=c.geometry.attributes.position.array;let p=0;for(let y=0;y<d;y++)for(let w=0;w<s;w++)u[p+1]=Math.sin(y*.5+h)*5+Math.sin(w*.3+h)*5,p+=3;c.geometry.attributes.position.needsUpdate=!0,c.rotation.y+=.001,c.rotation.x+=(v*.1-c.rotation.x)*.05,c.rotation.z+=(E*.1-c.rotation.z)*.05,i.render(n,r)}b(),window.addEventListener("resize",()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)})}function x(){gsap.registerPlugin(ScrollTrigger);const e=document.querySelector(".marquee-wrapper");e&&gsap.to(e,{x:"-50%",duration:20,ease:"none",repeat:-1})}function A(){document.querySelectorAll(".section").forEach(n=>{gsap.fromTo(n.children,{y:50,opacity:0},{y:0,opacity:1,duration:.8,stagger:.1,scrollTrigger:{trigger:n,start:"top 80%"}})})}function I(){const e=document.getElementById("contactForm");if(!e)return;const n=Math.floor(Math.random()*10),r=Math.floor(Math.random()*10),i=n+r,t=document.getElementById("captchaLabel"),o=document.getElementById("captcha");t.textContent=`Решите пример: ${n} + ${r} = ?`,document.getElementById("phone").addEventListener("input",d=>{d.target.value=d.target.value.replace(/\D/g,"")}),e.addEventListener("submit",d=>{d.preventDefault();const s=document.getElementById("formMessage");if(s.textContent="",s.className="form-message",parseInt(o.value)!==i){s.textContent="Ошибка в математическом примере.",s.classList.add("error");return}const l=e.querySelector('button[type="submit"]'),m=l.textContent;l.disabled=!0,l.textContent="Отправка...",setTimeout(()=>{l.disabled=!1,l.textContent=m,s.textContent="Спасибо! Ваша заявка успешно отправлена.",s.classList.add("success"),e.reset();const g=Math.floor(Math.random()*10),c=Math.floor(Math.random()*10);t.textContent=`Решите пример: ${g} + ${c} = ?`},1500)})}function T(){const e=document.getElementById("cookiePopup"),n=document.getElementById("acceptCookies");localStorage.getItem("cookiesAccepted")||setTimeout(()=>{e.classList.add("is-visible")},2e3),n.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),e.classList.remove("is-visible")})}
//# sourceMappingURL=main-iBoLa7FE.js.map
